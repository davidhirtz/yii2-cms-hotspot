Skeleton.registerHotspots=function(o){var t,e=$("#image"),n=e.parent().css("position","relative"),s=o.hotspots||[],i=0;for(o.message&&n.closest("form").prepend('<div class="alert alert-success">'+o.message+"</div>"),t=0;t<s.length;t++)r(s[t]);function a(t){var e={};return e[o.formName]=t,e}function r(t){var e=$('<a href="'+t.url+'" class="btn btn-primary btn-hotspot" title="'+t.displayName+'"><i class="fas fa-wrench"></i></a>').appendTo(n).tooltip(),o=e.outerWidth()/2,s=e.outerHeight()/2;e.css({position:"absolute",margin:0,left:"calc("+t.x+"% - "+o+"px)",top:"calc("+t.y+"% - "+s+"px)",zIndex:i++}).draggable({containment:n,start:function(){e.css("z-index",i+1).addClass("btn-secondary").tooltip("hide").addClass("dragging")},stop:function(){e.removeClass("btn-secondary"),$.post(t.url,a({x:(e.position().left+o)/n.width()*100,y:(e.position().top+s)/n.height()*100,position:i+1})),setTimeout(function(){e.removeClass("dragging")},1)}}).on("click",function(t){e.hasClass("dragging")&&t.preventDefault()})}e.on("dblclick",function(t){t=a({x:(t.pageX-n.offset().left)/n.width()*100,y:(t.pageY-n.offset().top)/n.height()*100,position:s.length+1});$.post(o.url,t).done(function(t){r(t)})})};