Skeleton.registerHotspots=function(e){var t,o=$("#image"),i=o.parent().addClass("hotspot-canvas"),s=e.hotspots||[],n=0;for(e.message&&i.closest("form").prepend('<div class="alert alert-success">'+e.message+"</div>"),t=0;t<s.length;t++)l(s[t]);function a(t){var o={};return o[e.formName]=t,o}function l(t){var o=$('<a href="'+t.url+'" class="hotspot-btn" title="'+t.displayName+'"><i class="hotspot-icon fas fa-plus"></i></a>').appendTo(i).tooltip(),e=o.outerWidth()/2,s=o.outerHeight()/2;o.css({left:"calc("+t.x+"% - "+e+"px)",top:"calc("+t.y+"% - "+s+"px)",zIndex:n++}).draggable({containment:i,start:function(){o.css("z-index",n+1).tooltip("disable").tooltip("hide").addClass("dragging")},stop:function(){$.post(t.url,a({x:(o.position().left+e)/i.find("img").width()*100,y:(o.position().top+s)/i.find("img").height()*100,position:n+1})),setTimeout(function(){o.tooltip("enable").removeClass("dragging")},1)}}).on("click",function(t){o.hasClass("dragging")&&t.preventDefault()})}o.on("dblclick",function(t){t=a({x:(t.pageX-i.offset().left)/i.width()*100,y:(t.pageY-i.offset().top)/i.height()*100,position:s.length+1});$.post(e.url,t).done(function(t){l(t)})})};